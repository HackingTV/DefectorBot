<html>
<script src="/socket.io/socket.io.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
<link href="https://fonts.googleapis.com/css?family=Anonymous+Pro" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/static/css/styles.css">

<script>
  $(function () {
    var socket = io();
    socket.on('subscribe', handleSubscribe)
    socket.on('follow', handleFollow);
  });

  var handleSubscribe = function(username) {
      var audio = $('#subscriber-audio')[0];
      audio.play();
      $('div#subscriber-alert h1').text(username + ' has subscribed!')
      $('div#subscriber-alert').show().delay(8000).hide(0)
  }

  var handleFollow = function(username) {
      var audio = $('#follower-audio')[0];
      audio.play();
      $('div#follower-alert h1').text(username + ' has followed!')
      $('div#follower-alert').show().delay(8000).hide(0)
  }
</script>

<body>

<div id="subscriber-alert" style="text-align:center; display:none;">
  <audio id="subscriber-audio">
    <source type="audio/mpeg" src="/static/sounds/hackertheme.mp3"/>
  </audio>
  <img style="width:300px" src="/static/images/realhacker.gif"/>
  <h1 id="title"></h1>
</div>

<div id="follower-alert" style="text-align:center; display:none;">
  <audio id="follower-audio">
    <source type="audio/mpeg" src="/static/sounds/dotmatrix.mp3"/>
  </audio>
  <img style="width:300px" src="/static/images/hacker.gif"/>
  <h1 id="title"></h1>
</div>

</body>
</html>